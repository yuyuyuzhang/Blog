<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>flatten</title>
</head>
<body>
<script>

//情况1：arr.flat()
function flatten(arr){
  return arr.flat(Infinity)
}

//情况2：扩展运算符...
function faltten(arr){
  while(arr.some(item => Array.isArray(item))){
    arr = [].concat(...arr)
  }
  return arr
}

//情况3：arr.split()联合arr.toString()
function flatten(arr){
  return arr.toString.split(',')
}

//情况4：普通递归实现
function flatten(arr){
  let array = [];
  arr.forEach(item => {
    if(!Array.isArray(item)){
      array.push(item)
    } else{
      array = array.concat(flatten(item))
    }
  })
  return array;
}

//情况5：arr.reduce()函数迭代
function flatten(arr){
  return arr.reduce((prev, cur) => prev.concat(Array.isArray(cur) ? flatten(cur) : cur), [])
}



var arr = [1, '2', [3, '4', [5]], 1];
console.log(flatten(arr)); //Array [1, '2', 3, '4', 5, 1]


</script>
</body>
</html>
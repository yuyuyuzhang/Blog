<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="renderer" content="webkit" />
  <title>分享当前网页</title>
</head>
<body>

<button id="btn">分享当前网页</button>

<script>

const btn = document.getElementById('btn')
btn.addEventListener('click', function(e){
  const title = document.title
  const url = document.querySelector('link[rel=canonical]') ? document.querySelector('link[rel=canonical]').href : document.location.href

  navigator.share({
    title: title,
    url: url
  }).then(res => console.log('分享成功'))
    .catch(err => console.log('分享失败'))
})

</script>
</body>
</html>
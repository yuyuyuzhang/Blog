<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="renderer" content="webkit" />
  <title>恒定输出音频源</title>
</head>
<body>

<button id="btn">播放</button>
<input type="range" min="0" max="1" step="0.1" value="0.5" name="volume" id="volume" />

<script>

//a user gesture on the page
const btn = document.getElementById('btn')
btn.addEventListener('click', e => {
  const audioCtx = new AudioContext()
  const source = audioCtx.createConstantSource()
  source.connect(audioCtx.destination)
  source.start()

  //音量控制
  const volume = document.getElementById('volume')
  volume.addEventListener('input', e => {
    source.offset.value = volume.value
  })
})




</script>
</body>
</html>
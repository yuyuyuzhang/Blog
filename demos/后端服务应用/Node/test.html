<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="renderer" content="webkit" />
  <title>test</title>
</head>
<body>

<audio id=""></audio>

<script>


navigator.getUserMedia({audio: true}, stream => {
  const context = new AudioContext()
  const audioInput = context.createMediaStreamSource(stream)
  audioInput.connect(context.destination)
}, err => {
  switch(err.code){
    case 'MANDATORY_UNSATISFIED_ERROR':
      console.log('浏览器未发现麦克风')
      break;
    case 'NOT_SUPPORTED_ERROR':
      console.log('浏览器不支持麦克风')
      break;
    case 'PERMISSION_DENIED':
      console.log('用户不同意浏览器使用麦克风')
      break;
  }
})


</script>
</body>
</html>